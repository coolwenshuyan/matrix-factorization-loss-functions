# çŸ©é˜µåˆ†è§£åˆå§‹åŒ–å™¨é…ç½®ä½¿ç”¨æŒ‡å—\n\næœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•ä½¿ç”¨çŸ©é˜µåˆ†è§£æ¨¡å‹çš„å„ç§åˆå§‹åŒ–ç­–ç•¥é…ç½®ã€‚\n\n## ğŸ“ æ–‡ä»¶ç»“æ„\n\n```\nconfigs/\nâ””â”€â”€ initializer_configs.py     # åˆå§‹åŒ–å™¨é…ç½®å®šä¹‰\n\nexample/\nâ”œâ”€â”€ complete_training_example.py    # å®Œæ•´è®­ç»ƒç¤ºä¾‹ï¼ˆå·²æ›´æ–°æ”¯æŒæ‰€æœ‰åˆå§‹åŒ–å™¨ï¼‰\nâ””â”€â”€ initializer_example.py          # åˆå§‹åŒ–å™¨ä½¿ç”¨æ¼”ç¤º\n\nsrc/models/\nâ””â”€â”€ initializers.py                 # åˆå§‹åŒ–å™¨å®ç°\n```\n\n## ğŸ¯ æ”¯æŒçš„åˆå§‹åŒ–å™¨ç±»å‹\n\n### 1. Normalåˆå§‹åŒ–ï¼ˆæ­£æ€åˆ†å¸ƒï¼‰\n- **normal_small**: å°æ ‡å‡†å·® (Ïƒ=0.01)ï¼Œæœ€å¸¸ç”¨\n- **normal_medium**: ä¸­ç­‰æ ‡å‡†å·® (Ïƒ=0.1)\n- **normal_large**: å¤§æ ‡å‡†å·® (Ïƒ=0.5)ï¼Œå¯èƒ½ä¸ç¨³å®š\n- **normal_custom**: è‡ªå®šä¹‰å‡å€¼å’Œæ ‡å‡†å·®\n\n### 2. Xavieråˆå§‹åŒ–ï¼ˆè‡ªé€‚åº”ç¼©æ”¾ï¼‰\n- **xavier_fan_avg**: åŸºäºè¾“å…¥è¾“å‡ºç»´åº¦å¹³å‡å€¼ï¼ˆæ¨èï¼‰\n- **xavier_fan_in**: åŸºäºè¾“å…¥ç»´åº¦\n- **xavier_fan_out**: åŸºäºè¾“å‡ºç»´åº¦\n\n### 3. Uniformåˆå§‹åŒ–ï¼ˆå‡åŒ€åˆ†å¸ƒï¼‰\n- **uniform_small**: å°èŒƒå›´ [-0.01, 0.01]\n- **uniform_medium**: ä¸­ç­‰èŒƒå›´ [-0.1, 0.1]\n- **uniform_large**: å¤§èŒƒå›´ [-0.5, 0.5]\n- **uniform_asymmetric**: éå¯¹ç§°èŒƒå›´ [0, 0.1]\n\n### 4. TruncatedNormalåˆå§‹åŒ–ï¼ˆæˆªæ–­æ­£æ€åˆ†å¸ƒï¼‰\n- **truncated_normal_2std**: æˆªæ–­åœ¨Â±2Ïƒ\n- **truncated_normal_3std**: æˆªæ–­åœ¨Â±3Ïƒ\n- **truncated_normal_custom**: è‡ªå®šä¹‰æˆªæ–­å‚æ•°\n\n## ğŸš€ å¿«é€Ÿå¼€å§‹\n\n### åŸºæœ¬ä½¿ç”¨\n\n```python\nfrom configs.initializer_configs import create_config_with_initializer, create_base_config\nfrom example.complete_training_example import MatrixFactorizationTrainer\n\n# åˆ›å»ºåŸºç¡€é…ç½®\nbase_config = create_base_config()\n\n# ä½¿ç”¨Xavieråˆå§‹åŒ–å™¨\nconfig = create_config_with_initializer(base_config, 'xavier_fan_avg')\n\n# è®­ç»ƒæ¨¡å‹\ntrainer = MatrixFactorizationTrainer(config)\ntrainer.prepare_data('movielens100k', 'dataset/20201202M100K_data_all_random.txt')\ntrainer.create_model()\ntrainer.train()\ntrainer.evaluate()\n```\n\n### æ‰‹åŠ¨é…ç½®\n\n```python\n# åœ¨é…ç½®å­—å…¸ä¸­ç›´æ¥æŒ‡å®š\nconfig = {\n    # ... å…¶ä»–é…ç½® ...\n    'initializer': {\n        'type': 'TruncatedNormal',\n        'mean': 0.0,\n        'std': 0.01,\n        'num_std': 2.0\n    }\n}\n```\n\n## ğŸ§ª è¿è¡Œå®éªŒ\n\n### 1. å•ä¸ªæ¨¡å‹è®­ç»ƒ\n```bash\npython example/complete_training_example.py --mode single\n```\n\n### 2. æŸå¤±å‡½æ•°å¯¹æ¯”å®éªŒ\n```bash\npython example/complete_training_example.py --mode comparison\n```\n\n### 3. åˆå§‹åŒ–å™¨å¯¹æ¯”å®éªŒ\n```bash\npython example/complete_training_example.py --mode initializer_comparison\n```\n\n### 4. åˆå§‹åŒ–å™¨æ¼”ç¤º\n```bash\npython example/initializer_example.py\n```\n\n## ğŸ“Š åœºæ™¯æ¨è\n\n### æ ‡å‡†æ¨èç³»ç»Ÿ\n- **æ¨è**: `normal_small`, `xavier_fan_avg`, `uniform_small`\n- **é€‚ç”¨**: å¤§å¤šæ•°æ¨èç³»ç»Ÿåœºæ™¯\n\n### å¤§è§„æ¨¡æ•°æ®é›†\n- **æ¨è**: `xavier_fan_avg`, `normal_small`, `truncated_normal_2std`\n- **é€‚ç”¨**: å¤§è§„æ¨¡ç”¨æˆ·/ç‰©å“æ•°æ®é›†\n\n### ç¨€ç–æ•°æ®\n- **æ¨è**: `normal_small`, `uniform_small`, `truncated_normal_2std`\n- **é€‚ç”¨**: éå¸¸ç¨€ç–çš„è¯„åˆ†çŸ©é˜µ\n\n### é«˜ç»´æ½œåœ¨å› å­\n- **æ¨è**: `xavier_fan_avg`, `xavier_fan_in`, `normal_small`\n- **é€‚ç”¨**: æ½œåœ¨å› å­æ•°é‡è¾ƒå¤§(>100)çš„æƒ…å†µ\n\n### ç”Ÿäº§ç¯å¢ƒ\n- **æ¨è**: `truncated_normal_2std`, `xavier_fan_avg`, `normal_custom`\n- **é€‚ç”¨**: éœ€è¦ç²¾ç»†è°ƒå‚çš„ç”Ÿäº§ç¯å¢ƒ\n\n## ğŸ› ï¸ é«˜çº§ä½¿ç”¨\n\n### è·å–æ‰€æœ‰é…ç½®\n```python\nfrom configs.initializer_configs import get_initializer_configs\n\nconfigs = get_initializer_configs()\nprint(configs['xavier_fan_avg'])\n# è¾“å‡º: {'type': 'Xavier', 'mode': 'fan_avg'}\n```\n\n### åœºæ™¯é€‰æ‹©\n```python\nfrom configs.initializer_configs import get_recommended_configs_by_scenario\n\nscenarios = get_recommended_configs_by_scenario()\nlarge_scale_configs = scenarios['large_scale']['configs']\nprint(large_scale_configs)\n# è¾“å‡º: ['xavier_fan_avg', 'normal_small', 'truncated_normal_2std']\n```\n\n### æ‰¹é‡å®éªŒ\n```python\nfrom configs.initializer_configs import generate_experiment_configs\n\nexperiment_configs = generate_experiment_configs()\nfor exp in experiment_configs:\n    print(f\"{exp['name']}: {exp['description']}\")\n```\n\n## ğŸ“ˆ æ€§èƒ½å¯¹æ¯”\n\nè¿è¡Œåˆå§‹åŒ–å™¨å¯¹æ¯”å®éªŒä¼šè¾“å‡ºç±»ä¼¼ä»¥ä¸‹çš„ç»“æœï¼š\n\n```\nåˆå§‹åŒ–å™¨å¯¹æ¯”å®éªŒç»“æœ\n================================================================================\nåˆå§‹åŒ–å™¨            çŠ¶æ€       RMSE     MAE      è®­ç»ƒæ—¶é—´(s)   æ”¶æ•›è½®æ•°   æœ€ç»ˆæŸå¤±\n--------------------------------------------------------------------------------\nXavier_FanAvg        SUCCESS    0.8421   0.6532   12.34        25         0.3456\nNormal_Small         SUCCESS    0.8445   0.6551   11.89        27         0.3478\nTruncatedNormal      SUCCESS    0.8467   0.6578   12.12        26         0.3489\nUniform_Small        SUCCESS    0.8501   0.6612   11.67        28         0.3512\n================================================================================\n\næœ€ä½³æ€§èƒ½: Xavier_FanAvg (RMSE: 0.8421)\næœ€å¿«è®­ç»ƒ: Uniform_Small (æ—¶é—´: 11.67s)\n```\n\n## âš™ï¸ å‚æ•°è°ƒä¼˜å»ºè®®\n\n### Normalåˆå§‹åŒ–\n- **æ ‡å‡†å·®é€‰æ‹©**: 0.01-0.1ä¹‹é—´ï¼Œå¤ªå¤§å¯èƒ½å¯¼è‡´æ¢¯åº¦çˆ†ç‚¸\n- **å‡å€¼**: é€šå¸¸è®¾ä¸º0ï¼Œç‰¹æ®Šéœ€æ±‚å¯è®¾ç½®å°çš„éé›¶å€¼\n\n### Xavieråˆå§‹åŒ–  \n- **æ¨¡å¼é€‰æ‹©**: `fan_avg`é€‚ç”¨äºå¤§å¤šæ•°æƒ…å†µ\n- **è‡ªåŠ¨ç¼©æ”¾**: æ ¹æ®çŸ©é˜µç»´åº¦è‡ªåŠ¨è°ƒæ•´ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒå‚\n\n### Uniformåˆå§‹åŒ–\n- **èŒƒå›´è®¾å®š**: å¯¹ç§°èŒƒå›´æ•ˆæœé€šå¸¸æ›´å¥½\n- **ç•Œé™é€‰æ‹©**: [-0.01, 0.01]åˆ°[-0.1, 0.1]ä¹‹é—´\n\n### TruncatedNormalåˆå§‹åŒ–\n- **æˆªæ–­èŒƒå›´**: 2Ïƒ-3Ïƒä¹‹é—´ï¼Œé¿å…æç«¯å€¼\n- **ç¨³å®šæ€§**: æ¯”æ ‡å‡†æ­£æ€åˆ†å¸ƒæ›´ç¨³å®š\n\n## ğŸ” è°ƒè¯•æŠ€å·§\n\n### æ£€æŸ¥åˆå§‹åŒ–æ˜¯å¦åˆç†\n```python\n# æ£€æŸ¥åˆå§‹åŒ–åçš„å‚æ•°ç»Ÿè®¡\nmodel.initialize_parameters(initializer)\nprint(f\"ç”¨æˆ·å› å­å‡å€¼: {np.mean(model.user_factors):.6f}\")\nprint(f\"ç”¨æˆ·å› å­æ ‡å‡†å·®: {np.std(model.user_factors):.6f}\")\nprint(f\"ç‰©å“å› å­èŒƒå›´: [{np.min(model.item_factors):.6f}, {np.max(model.item_factors):.6f}]\")\n```\n\n### ç›‘æ§è®­ç»ƒç¨³å®šæ€§\n- è§‚å¯Ÿè®­ç»ƒæŸå¤±æ˜¯å¦å¹³æ»‘ä¸‹é™\n- æ£€æŸ¥æ˜¯å¦å‡ºç°NaNæˆ–æ— ç©·å¤§å€¼\n- æ¯”è¾ƒä¸åŒåˆå§‹åŒ–å™¨çš„æ”¶æ•›é€Ÿåº¦\n\n## ğŸ“š å‚è€ƒèµ„æ–™\n\n- [Xavier/Glorotåˆå§‹åŒ–è®ºæ–‡](http://proceedings.mlr.press/v9/glorot10a/glorot10a.pdf)\n- [æ·±åº¦å­¦ä¹ ä¸­çš„å‚æ•°åˆå§‹åŒ–](https://arxiv.org/abs/1502.01852)\n- [çŸ©é˜µåˆ†è§£æ¨èç³»ç»Ÿç»¼è¿°](https://ieeexplore.ieee.org/document/5197422)\n\n## ğŸ¤ è´¡çŒ®\n\næ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›åˆå§‹åŒ–å™¨é…ç½®å’Œå®ç°ï¼\n\n## ğŸ“„ è®¸å¯è¯\n\næœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ã€‚\n